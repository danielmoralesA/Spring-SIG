<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf/extras/springsecurity">
<head>
<meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>SIGTMA Administracion </title>
 <link rel="stylesheet" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" />
  <link rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}" />
   <link rel="stylesheet" href="../static/css/estilo.css" th:href="@{/css/estilo.css}"/>
  
 <link rel="stylesheet" href="../static/css/datepicker.css" th:href="@{/css/datepicker.css}" />
 <link rel="stylesheet" href="../static/css/daterangepicker.css" th:href="@{/css/daterangepicker.css}" />
 
 <link rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}" />
  <link rel="stylesheet" href="../static/css/bootstrap-theme.min.css" th:href="@{/css/bootstrap-theme.min.css}" />
   <link rel="stylesheet" href="../static/css/bootstrap-theme.css" th:href="@{/css/bootstrap-theme.css}" />
  
  
  <style type="text/css">
  	#eventForm .dateContainer .form-control-feedback {
    top: 0;
    right: -15px;
}
  
  </style>
 
 <!-- <link rel="stylesheet" href="../static/css/custom.min.css" th:href="@{/css/custom.min.css}"/> -->
 <!-- fuentes -->
 
 <!-- js -->
 <script type="text/javascript" src="../static/js/jquery-3.2.1.min.js" th:src="@{/js/jquery-3.2.1.min.js}"></script>
 <script type="text/javascript" src="../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
  <script type="text/javascript" src="../static/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
  <script type="text/javascript" src="../static/js/bootstrap-datepicker.js" th:src="@{/js/bootstrap-datepicker.js}"></script>
 <script type="text/javascript" src="../static/js/moment.js" th:src="@{/js/moment.js}"></script>
 <script type="text/javascript" src="../static/js/bootstrap.js" th:src="@{/js/bootstrap.js}"></script>
  <script type="text/javascript" src="../static/js/npm.js" th:src="@{/js/npm.js}"></script>
  <script type="text/javascript" src="../static/js/daterangepicker.js" th:src="@{/js/daterangepicker.js}"></script>
  <script>

     var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23019901-1']);
      _gaq.push(['_setDomainName', "bootswatch.com"]);
        _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

     (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();

    </script>
    

    <script type="text/javascript">

    $(document).ready(function(){

        $(".dropdown-toggle").dropdown('toggle');

    });  

    </script>

    
</head>
<body> 
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">SIGTMA </a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
		<li   class="dropdown" sec:authorize="hasAuthority('ADMIN')">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Administracion<span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
        	 <li><a href="#"    th:href="@{/admin/usuariolist}">Administracion de usuarios</a></li>
        </ul>
        </li>        
        <li sec:authorize="hasAnyAuthority('TACTICO','ESTRATEGICO','ADMIN')" class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Reportes Tacticos <span class="caret"></span></a>
          <ul  class="dropdown-menu" role="menu">
            <li><a href="#" th:href="@{/tactico/cap_paramempleado}">Empleado Con Mayor Numero De Clientes</a></li>
            <li><a href="#" th:href="@{/tactico/cap_paramsembarfecha}">Embarque Realizado Por Fecha Especifica</a></li>
            <li><a href="#" th:href="@{/tactico/cap_producto}">Productos de Mayor Exportacion</a></li>
            <li><a href="#" th:href="@{/tactico/cap_paramnuevosclientes}">Nuevos Clientes</a></li>
            <li><a href="#" th:href="@{/tactico/cap_paramexportar}">Embarcaciones por pais</a></li>
            <li><a href="#" th:href="@{/tactico/cap_paramservicio}">Servicios de Trámites</a></li>
            
          </ul>
        </li>
        <li sec:authorize="hasAnyAuthority('ESTRATEGICO','ADMIN')" class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Reportes Estrategicos <span class="caret"></span></a>
          <ul  class="dropdown-menu" role="menu">
            <li><a href="#" th:href="@{/estrategico/cap_paramnoservicio}">Clientes que no han contratado el servicio</a></li>
            <li><a href="#" th:href="@{/estrategico/cap_paramclientemora}">Clientes que están en mora</a></li>
            <li><a href="#" th:href="@{/estrategico/cap_parametros}">Mejores Clientes</a></li>
            <li><a href="#" th:href="@{/estrategico/cap_paramganancias}">Ganancias mensuales</a></li>
            <li><a href="#" th:href="@{/estrategico/cap_paramembarque}">Embarques Mensual por cliente especifico</a></li>
            
            
          </ul>
        </li>
        
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
      <span class="glyphicon glyphicon-user"></span>Usuario: <span sec:authentication="name"></span></a>
      	<ul class="dropdown-menu" role="menu">	
      		<li><a href="#" th:href="@{/logout}">Salir</a></li>
      	</ul>
      </li>
      </ul>	
      
    </div>
  </div>
</nav>

<div class="container">
    <div class="jumbotron">
       <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
    </div>
</div>

<div class="container">
	<h1>Registros de usuarios</h1>
	<div style="padding:0 20px">
		<table class="table table-striped">
			<tr>
				<th>ID Usuario</th>
				<th>Nombre Usuario</th>
				<th>Estado</th>
				<th>Rol</th>
			
			
			</tr>
			
			<tr th:each= "usuarios : ${usuarios}">
				<td th:text="${usuarios.idUsuario}"></td>
				<td th:text="${usuarios.nomUsuario}"></td>
				<td th:switch="${usuarios.activo}">
					<span th:case="'1'">Activo</span>
					<span th:case="*">Inactivo</span>
				</td>
				<td>
					<span th:each="roles,iterStat : ${usuarios.roles}">
						<span th:text="${roles.nomRol}"/><th:block th:if="${!iterStat.last}">,</th:block>
					</span> 
				</td>
				<td>
					
    				<a th:href="@{/admin/delete/{id}(id=${usuarios.idUsuario})}" class="btn btn-danger btn-xs">Eliminar</a>
				</td>
			
			</tr>
			
		
		</table>
		<a href="#" th:href="@{/admin/usuario}" class="btn btn-success">Agregar nuevo</a>
	
	</div>

<hr/>
<hr/>
<footer>
	<p>&copy; COMCA El Salvador </p>
</footer>

</div>

</body>
</html>